/* ============================================
   基础样式 & 重置
   ============================================ */

html,
body {
  height: 100%;
}

/* 主题切换过渡动画 */
html,
html * {
  transition: background-color 0.3s ease, 
              border-color 0.3s ease, 
              color 0.15s ease,
              box-shadow 0.3s ease;
}

/* 排除某些元素的动画（避免性能问题） */
html.no-transition,
html.no-transition * {
  transition: none !important;
}

/* 排除滚动条和交互元素的主题过渡（scrollbar fix） */
::-webkit-scrollbar,
::-webkit-scrollbar-track,
::-webkit-scrollbar-thumb,
button,
a,
input,
select,
textarea {
  transition: background-color 0.15s ease, 
              border-color 0.15s ease, 
              color 0.15s ease,
              box-shadow 0.15s ease,
              transform 0.15s ease,
              opacity 0.15s ease;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background: var(--bg-0);
  color: var(--fg-0);
}

/* 工业科幻斜纹背景 */
.bg-bg-0 {
  background-color: var(--bg-0);
  background-image: 
    /* 斜纹图案 */
    linear-gradient(
      -45deg,
      transparent 0%,
      transparent 40%,
      var(--stripe-color) 40%,
      var(--stripe-color) 50%,
      transparent 50%,
      transparent 90%,
      var(--stripe-color) 90%,
      var(--stripe-color) 100%
    ),
    /* 渐变光晕 */
    radial-gradient(
      ellipse 100% 80% at 20% 0%,
      rgba(255, 250, 0, 0.045) 0%,
      transparent 50%
    ),
    radial-gradient(
      ellipse 80% 60% at 80% 100%,
      rgba(255, 250, 0, 0.03) 0%,
      transparent 50%
    );
  background-size: 8px 8px, 100% 100%, 100% 100%;
  background-attachment: fixed;
}

/* 选中文本颜色 */
::selection {
  background-color: var(--brand);
  color: #000;
}

/* 输入框聚焦效果 */
input:focus,
select:focus,
textarea:focus {
  outline: none;
}

/* 禁用 Tailwind 默认的 ring */
*:focus {
  outline: none;
}

/* 深色模式表单控件增强 */
html[data-theme='dark'] input,
html[data-theme='dark'] select,
html[data-theme='dark'] textarea {
  color: var(--fg-0);
}

html[data-theme='dark'] input::placeholder,
html[data-theme='dark'] textarea::placeholder {
  color: var(--fg-2);
}

html[data-theme='dark'] select option {
  background-color: var(--bg-2);
  color: var(--fg-0);
}

/* 深色模式卡片增强 */
html[data-theme='dark'] .bg-bg-1 {
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.3);
}

html[data-theme='dark'] .bg-bg-2 {
  background-color: var(--bg-2);
}
